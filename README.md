# Система Управления Задачами

Это проект, представляющий собой простую систему управления задачами, реализованную с использованием Java 17+ и Spring Boot. Включает создание, редактирование, удаление, просмотр и назначение исполнителей. Система также поддерживает аутентификацию и авторизацию с помощью JWT токенов и обеспечивает различные роли пользователей, включая администратора.

## Описание проекта

В рамках проекта реализован REST API, позволяющий выполнять следующие операции:

- **Создание, редактирование и удаление задач**.
- **Управление задачами через комментарии**.
- **Назначение задач на исполнителей**.
- **Управление статусом и приоритетом задач**.
- **Получение задач по автору и исполнителю**.

## Структура API

### Контроллер задач (`task-controller`)

- **PUT /api/v1/tasks/{taskId}** - Обновление существующей задачи.
- **DELETE /api/v1/tasks/{taskId}** - Удаление задачи.
- **POST /api/v1/tasks** - Создание новой задачи.
- **GET /api/v1/tasks/{taskId}/comments** - Получение комментариев к задаче.
- **POST /api/v1/tasks/{taskId}/comments** - Добавление комментария к задаче.
- **PATCH /api/v1/tasks/{taskId}/status** - Обновление статуса задачи.
- **PATCH /api/v1/tasks/{taskId}/priority** - Обновление приоритета задачи.
- **PATCH /api/v1/tasks/{taskId}/assignee/{userId}** - Назначение задачи на нового исполнителя.
- **GET /api/v1/tasks/author/{authorId}** - Получение задач по автору.
- **GET /api/v1/tasks/assignee/{assigneeId}** - Получение задач по исполнителю.

### Контроллер аутентификации (`auth-controller`)

- **POST /api/v1/auth/login** - Вход в систему с использованием email и пароля. Возвращает JWT токен.

### Контроллер администратора (`admin-controller`)

- **POST /api/v1/admin/make-admin/{username}** - Повышение пользователя до администратора.

## Функциональные требования

1. **Аутентификация и авторизация**:
    - Вход осуществляется через email и пароль.
    - Доступ к API осуществляется через JWT токены.
    - Разделение на роли: администратор и пользователь.

2. **Роль администратора**:
    - Администратор имеет полный доступ к управлению задачами.
    - Администратор может создавать, редактировать, удалять задачи, изменять статус и приоритет, назначать исполнителей, а также оставлять комментарии.

3. **Роль пользователя**:
    - Пользователи могут управлять только задачами, на которых они указаны как исполнители.
    - Пользователи могут изменять статус задач и оставлять комментарии.

4. **Пагинация и фильтрация**:
    - API позволяет фильтровать задачи по автору и исполнителю, а также поддерживает пагинацию вывода.

5. **Обработка ошибок**:
    - Система корректно обрабатывает ошибки и возвращать понятные сообщения.

6. **Документация**:
    - Система включает документацию с использованием Swagger UI и Open API.

## Технологии

- **Java 17+**: Основной язык программирования.
- **Spring Boot**: Фреймворк для создания REST API.
- **Spring Security**: Для реализации аутентификации и авторизации.
- **JWT**: Для аутентификации через токены.
- **Liquibase**: Для миграции баз данных.
- **PostgreSQL**: В качестве базы данных.
- **Docker**: Для контейнеризации и запуска приложения в различных средах.
- **Swagger UI**: Для генерации и отображения документации API.

## Инструкции по запуску
Процесс настройки и запуска проекта осуществляется автоматически. Все необходимые зависимости, включая PostgreSQL, уже настроены через Docker Compose.

## Требования

### Требования

- Docker
- Docker Compose

### Шаги для локального запуска

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Greem4/manager-task.git
   cd manager-task
2. ```bash
   docker compose up -d   
3. Для доступа к документации [API](http://localhost:8080/swagger-ui/index.html)

